{"remainingRequest":"/Users/mdzz/Desktop/vue/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/mdzz/Desktop/vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/mdzz/Desktop/vue/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/mdzz/Desktop/vue/src/components/ClipImage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mdzz/Desktop/vue/src/components/ClipImage.vue","mtime":1621008037510},{"path":"/Users/mdzz/Desktop/vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mdzz/Desktop/vue/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mdzz/Desktop/vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mdzz/Desktop/vue/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgd2luVyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwKICAgICAgICBmb250ID0gcGFyc2VGbG9hdChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuZm9udFNpemUpLAogICAgICAgIGNhbnZhc1cgPSB3aW5XIC0gMC40ICogZm9udCwKICAgICAgICBtYXJrVyA9IGNhbnZhc1cgKiAwLjc7CiAgICByZXR1cm4gewogICAgICAvLyDnlLvluIPlpKflsI8KICAgICAgQ1c6IGNhbnZhc1csCiAgICAgIENIOiBjYW52YXNXLAogICAgICAvLyBNQVJL5aSn5bCP5ZKM5L2N572uCiAgICAgIE1XOiBtYXJrVywKICAgICAgTUg6IG1hcmtXLAogICAgICBNTDogKGNhbnZhc1cgLSBtYXJrVykgLyAyLAogICAgICBNVDogKGNhbnZhc1cgLSBtYXJrVykgLyAyLAogICAgICAvLyDkuIrkvKDlm77niYfnmoTlpKflsI/lkozkvY3nva4KICAgICAgSVc6IDAsCiAgICAgIElIOiAwLAogICAgICBJTDogMCwKICAgICAgSVQ6IDAsCiAgICAgIC8vIOaYr+WQpuaYvuekuk1BUksKICAgICAgSVNNQVJLOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsaWNrRnVuYzogZnVuY3Rpb24gY2xpY2tGdW5jKCkgewogICAgICAvLyDop6blj5FmaWxl6YCJ5oup5paH5Lu25pON5L2cCiAgICAgIHRoaXMuJHJlZnMuZmlsZS5jbGljaygpOyAvL+ebtOaOpeinpuWPkWlucHV055qE54K55Ye75LqL5Lu2CiAgICB9LAogICAgY2hhbmdGdW5jOiBmdW5jdGlvbiBjaGFuZ0Z1bmMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyDlt7Lnu4/pgInmi6nkuoblm77niYcKICAgICAgdGhpcy5JU01BUksgPSB0cnVlOwogICAgICBjb25zb2xlLmRpcih0aGlzLiRyZWZzLmZpbGUpOyAvLyDmlofku7bkv6Hmga8KCiAgICAgIHZhciBmaWxlID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgICBpZiAoIWZpbGUpIHJldHVybjsgLy/ngrnlh7vlj5bmtogg5rKh5pyJ6YCJ5oup5bCx5LiN5b6A5LiL6LWwCiAgICAgIC8vIOWFiOWfuuS6jkZpbGVSZWFkZXLov5vooYzmlofku7bor7vlj5YKCiAgICAgIHZhciBmaWxlRXhhbXBsZSA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIGZpbGVFeGFtcGxlLnJlYWRBc0RhdGFVUkwoZmlsZSk7IC8vIOivu+aIkGJhc2U2NAogICAgICAvLyDor7vlj5blrozmiJDop6blj5EKCiAgICAgIGZpbGVFeGFtcGxlLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgLy8gZS50YXJnZXQucmVzdWx0ICBiYXNlNjTnoIEKICAgICAgICAvL+WIm+W7uuaWsOWbvueJhwogICAgICAgIF90aGlzLklNQUdFID0gbmV3IEltYWdlKCk7CiAgICAgICAgX3RoaXMuSU1BR0Uuc3JjID0gZS50YXJnZXQucmVzdWx0OwoKICAgICAgICBfdGhpcy5JTUFHRS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyDnu5nlm77niYforr7nva7lrr3pq5gv5L2N572uCiAgICAgICAgICBfdGhpcy5JVyA9IF90aGlzLklNQUdFLndpZHRoOwogICAgICAgICAgX3RoaXMuSUggPSBfdGhpcy5JTUFHRS5oZWlnaHQ7IC8vIOmHjeaWsOaMieeFp+avlOWIl+iuoeeul+WuvemrmCDlm77niYflvojlrr0g6K6p5a695ZKM55S75biD5L+d5oyB5LiA6Ie0IOmrmOetieavlOe8qeaUvu+8jOWbvueJh+W+iOmrmCDorqnpq5jlkoznlLvluIPkv53mjIHkuIDoh7Qg5a69562J5q+U57yp5pS+77yMCgogICAgICAgICAgdmFyIG4gPSAxOyAvLyDnvKnmlL7mr5QKCiAgICAgICAgICBpZiAoX3RoaXMuSVcgPiBfdGhpcy5JSCkgewogICAgICAgICAgICBuID0gX3RoaXMuQ1cgLyBfdGhpcy5JVzsKICAgICAgICAgICAgX3RoaXMuSVcgPSBfdGhpcy5DVzsKICAgICAgICAgICAgX3RoaXMuSUggPSBfdGhpcy5JSCAqIG47CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBuID0gX3RoaXMuQ0ggLyBfdGhpcy5JSDsKICAgICAgICAgICAgX3RoaXMuSUggPSBfdGhpcy5DSDsKICAgICAgICAgICAgX3RoaXMuSVcgPSBfdGhpcy5JVyAqIG47CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMuSUwgPSAoX3RoaXMuQ1cgLSBfdGhpcy5JVykgLyAyOwogICAgICAgICAgX3RoaXMuSVQgPSAoX3RoaXMuQ0ggLSBfdGhpcy5JSCkgLyAyOwoKICAgICAgICAgIF90aGlzLmRyYXdJbWFnZSgpOwogICAgICAgIH07CiAgICAgIH07CiAgICB9LAogICAgLy8g5ZyoY2FudmFz5Lit57uY5Yi25Zu+54mHCiAgICBkcmF3SW1hZ2U6IGZ1bmN0aW9uIGRyYXdJbWFnZSgpIHsKICAgICAgdGhpcy5DVFggPSB0aGlzLiRyZWZzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICB0aGlzLkNUWC5jbGVhclJlY3QoMCwgMCwgdGhpcy5DVywgdGhpcy5DSCk7IC8v5riF56m655S75biDCiAgICAgIC8vIOe7mOWItuWbvueJhyAg6ZyA6KaB57uY5Yi255qE5Zu+54mHLOWbvueJh+S9jee9ru+8jOWbvueJh+WuvemrmAoKICAgICAgdGhpcy5DVFguZHJhd0ltYWdlKHRoaXMuSU1BR0UsIHRoaXMuSUwsIHRoaXMuSVQsIHRoaXMuSVcsIHRoaXMuSUgpOwogICAgfSwKICAgIC8vIOe8qeaUvuWbvueJhwogICAgc2NhbGVGdW5jOiBmdW5jdGlvbiBzY2FsZUZ1bmMoZmxhZykgewogICAgICBpZiAoIXRoaXMuSU1BR0UpIHJldHVybjsgLy8g5oyJ54Wn5Zu+54mH5a696auY5q+U6L+b6KGM57yp5pS+CgogICAgICB2YXIgbiA9IHRoaXMuSVcgLyB0aGlzLklILAogICAgICAgICAgbjEgPSAyMCwKICAgICAgICAgIG4yID0gbjEgLyBuOwoKICAgICAgaWYgKGZsYWcpIHsKICAgICAgICB0aGlzLklXICs9IG4xOwogICAgICAgIHRoaXMuSUggKz0gbjI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5JVyAtPSBuMTsKICAgICAgICB0aGlzLklIIC09IG4yOwogICAgICB9CgogICAgICB0aGlzLmRyYXdJbWFnZSgpOwogICAgfSwKICAgIHN0YXJ0RnVuYzogZnVuY3Rpb24gc3RhcnRGdW5jKGUpIHsKICAgICAgLy8g5oyJ5LiL55qE5pe25YCZ6K6w5b2V5omL5oyH55qE5Z2Q5qCHCiAgICAgIGlmICghdGhpcy5JTUFHRSkgcmV0dXJuOwogICAgICB2YXIgcG9pbnQgPSBlLmNoYW5nZWRUb3VjaGVzWzBdOwogICAgICB0aGlzLnN0YXJ0WCA9IHBvaW50LmNsaWVudFg7CiAgICAgIHRoaXMuc3RhcnRZID0gcG9pbnQuY2xpZW50WTsKICAgIH0sCiAgICAvL+enu+WKqOmBrue9qeWxggogICAgbW92ZUZ1bmM6IGZ1bmN0aW9uIG1vdmVGdW5jKGUpIHsKICAgICAgaWYgKCF0aGlzLklNQUdFKSByZXR1cm47CiAgICAgIHZhciBwb2ludCA9IGUuY2hhbmdlZFRvdWNoZXNbMF07CiAgICAgIHRoaXMuY2hhbmdlWCA9IHBvaW50LmNsaWVudFggLSB0aGlzLnN0YXJ0WDsKICAgICAgdGhpcy5jaGFuZ2VZID0gcG9pbnQuY2xpZW50WSAtIHRoaXMuc3RhcnRZOyAvLyDpmLLmraLmiYvmjIfmipbliqgg6K+v5pON5L2cIAoKICAgICAgaWYgKE1hdGguYWJzKHRoaXMuY2hhbmdlWCkgPiAxMCB8fCBNYXRoLmFicyh0aGlzLmNoYW5nZVkpID4gMTApIHsKICAgICAgICB0aGlzLklMICs9IHRoaXMuY2hhbmdlWDsKICAgICAgICB0aGlzLklUICs9IHRoaXMuY2hhbmdlWTsKICAgICAgICB0aGlzLmRyYXdJbWFnZSgpOwogICAgICAgIHRoaXMuc3RhcnRYID0gcG9pbnQuY2xpZW50WDsKICAgICAgICB0aGlzLnN0YXJ0WSA9IHBvaW50LmNsaWVudFk7CiAgICAgIH0KICAgIH0sCiAgICBzYXZlRnVuYzogZnVuY3Rpb24gc2F2ZUZ1bmMoKSB7CiAgICAgIGlmICghdGhpcy5JTUFHRSkgcmV0dXJuOyAvLyDojrflj5bmjIflrprljLrln5/nmoTlg4/ntKDkv6Hmga8g5Y2z6YGu572p5bGC55qE6KaG55uW55qE5Yy65Z+fCgogICAgICB2YXIgaW1hZ2VEYXRhID0gdGhpcy5DVFguZ2V0SW1hZ2VEYXRhKHRoaXMuTUwsIHRoaXMuTVQsIHRoaXMuTVcsIHRoaXMuTUgpOyAvLyDliJvlu7rmlrDnmoTnlLvluIMg5LiN6ZyA6KaB5b6A6aG16Z2i5Lit5pS+IOWPquaYr+eUqOS6jueUn+aIkOWbvueJhyAKCiAgICAgIHZhciBjYW52YXMyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksCiAgICAgICAgICBjYW52YXMyQ1RYID0gY2FudmFzMi5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjYW52YXMyLndpZHRoID0gdGhpcy5NVzsKICAgICAgY2FudmFzMi5oZWlnaHQgPSB0aGlzLk1IOyAvLyDmiorlg4/ntKDkv6Hmga/mlL7nva7liLDnlLvluIPkuK0KCiAgICAgIGNhbnZhczJDVFgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCwgMCwgMCwgdGhpcy5NVywgdGhpcy5NSCk7IC8vIOaKiueUu+W4g+S4reeahOWGheWuueeUn+aIkOWbvueJh+eahEJBU0U2NAoKICAgICAgdGhpcy4kZW1pdCgic2F2ZUltYWdlIiwgY2FudmFzMi50b0RhdGFVUkwoImltYWdlL3BuZyIpKTsKICAgIH0KICB9Cn07Ci8qDQogKiAgMS4g5oiR5Lus6ZyA6KaB5YeG5aSH5LiA5Lqb5pWw5o2u77ya55S75biD55qE5aSn5bCP44CBTUFSS+mBrue9qeWxgueahOWkp+Wwj+WSjOS9jee9ruOAgeS4iuS8oOWbvueJh+eahOWkp+Wwj+WSjOS9jee9ruOAgeaYr+WQpuaYvuekuk1BUksuLi4NCiAqICAyLiDkuIrkvKDlm77niYfvvJrpgInkuK3lm77niYfvvIzmiorlhbbnu5jliLbliLDnlLvluIPkuK0NCiAqICAzLiDlrp7njrDlm77niYfnmoTmi5bmi71Ub3VjaO+8mumHjeaWsOe7mOWItuWbvueJh+aJgOWcqOeahOS9jee9rg0KICogIDQuIOWunueOsOWmguWbvueahOaWueazleWSjOe8qeWwj++8mumHjeaWsOe7mOWItuWbvueJh+eahOWkp+Wwjw0KICogIDUuIOS/neWtmOWbvueJh+eahOaXtuWAme+8muaKiumBrue9qeWxgumAieS4reeahOmDqOWIhu+8iOWDj+e0oO+8ieacgOWQjueUn+aIkOS4gOW8oOaWsOeahOWbvueJhw0KICov"},{"version":3,"sources":["ClipImage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"clipImageBox\">\r\n    <div class=\"canvasBox\" @touchstart=\"startFunc\" @touchmove=\"moveFunc\">\r\n      <canvas :width=\"CW\" :height=\"CH\" ref=\"canvas\"></canvas>\r\n      <div\r\n        class=\"mark\"\r\n        v-show=\"ISMARK\"\r\n        :style=\"{\r\n          width: MW + 'px',\r\n          height: MH + 'px',\r\n          left: ML + 'px',\r\n          top: MT + 'px',\r\n        }\"\r\n      ></div>\r\n    </div>\r\n\r\n    <div class=\"buttonBox\">\r\n      <input type=\"file\" class=\"file\" ref=\"file\" @change=\"changFunc\" />\r\n      <button @click=\"clickFunc\">选择图片</button>\r\n      <button @click=\"scaleFunc(1)\">放大</button>\r\n      <button @click=\"scaleFunc(0)\">缩小</button>\r\n      <button @click=\"saveFunc\">保存图片</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    let winW = document.documentElement.clientWidth,\r\n      font = parseFloat(document.documentElement.style.fontSize),\r\n      canvasW = winW - 0.4 * font,\r\n      markW = canvasW * 0.7;\r\n    return {\r\n      // 画布大小\r\n      CW: canvasW,\r\n      CH: canvasW,\r\n      // MARK大小和位置\r\n      MW: markW,\r\n      MH: markW,\r\n      ML: (canvasW - markW) / 2,\r\n      MT: (canvasW - markW) / 2,\r\n      // 上传图片的大小和位置\r\n      IW: 0,\r\n      IH: 0,\r\n      IL: 0,\r\n      IT: 0,\r\n      // 是否显示MARK\r\n      ISMARK: false,\r\n    };\r\n  },\r\n  methods: {\r\n    clickFunc() {\r\n      // 触发file选择文件操作\r\n      this.$refs.file.click(); //直接触发input的点击事件\r\n    },\r\n    changFunc() {\r\n      // 已经选择了图片\r\n      this.ISMARK = true;\r\n      console.dir(this.$refs.file); // 文件信息\r\n      let file = this.$refs.file.files[0];\r\n      if (!file) return; //点击取消 没有选择就不往下走\r\n      // 先基于FileReader进行文件读取\r\n      let fileExample = new FileReader();\r\n      fileExample.readAsDataURL(file); // 读成base64\r\n      // 读取完成触发\r\n      fileExample.onload = (e) => {\r\n        // e.target.result  base64码\r\n        //创建新图片\r\n        this.IMAGE = new Image();\r\n        this.IMAGE.src = e.target.result;\r\n        this.IMAGE.onload = () => {\r\n          // 给图片设置宽高/位置\r\n          this.IW = this.IMAGE.width;\r\n          this.IH = this.IMAGE.height;\r\n          // 重新按照比列计算宽高 图片很宽 让宽和画布保持一致 高等比缩放，图片很高 让高和画布保持一致 宽等比缩放，\r\n          let n = 1; // 缩放比\r\n          if (this.IW > this.IH) {\r\n            n = this.CW / this.IW;\r\n            this.IW = this.CW;\r\n            this.IH = this.IH * n;\r\n          } else {\r\n            n = this.CH / this.IH;\r\n            this.IH = this.CH;\r\n            this.IW = this.IW * n;\r\n          }\r\n\r\n          this.IL = (this.CW - this.IW) / 2;\r\n          this.IT = (this.CH - this.IH) / 2;\r\n          this.drawImage();\r\n        };\r\n      };\r\n    },\r\n    // 在canvas中绘制图片\r\n    drawImage() {\r\n      this.CTX = this.$refs.canvas.getContext(\"2d\");\r\n      this.CTX.clearRect(0, 0, this.CW, this.CH); //清空画布\r\n      // 绘制图片  需要绘制的图片,图片位置，图片宽高\r\n      this.CTX.drawImage(this.IMAGE, this.IL, this.IT, this.IW, this.IH);\r\n    },\r\n    // 缩放图片\r\n    scaleFunc(flag) {\r\n      if (!this.IMAGE) return;\r\n      // 按照图片宽高比进行缩放\r\n      let n = this.IW / this.IH,\r\n        n1 = 20,\r\n        n2 = n1 / n;\r\n      if (flag) {\r\n        this.IW += n1;\r\n        this.IH += n2;\r\n      } else {\r\n        this.IW -= n1;\r\n        this.IH -= n2;\r\n      }\r\n      this.drawImage();\r\n    },\r\n    startFunc(e) {\r\n      // 按下的时候记录手指的坐标\r\n      if (!this.IMAGE) return;\r\n      let point = e.changedTouches[0];\r\n      this.startX = point.clientX;\r\n      this.startY = point.clientY;\r\n    },\r\n    //移动遮罩层\r\n    moveFunc(e) {\r\n      if (!this.IMAGE) return;\r\n      let point = e.changedTouches[0];\r\n      this.changeX = point.clientX - this.startX;\r\n      this.changeY = point.clientY - this.startY;\r\n      // 防止手指抖动 误操作 \r\n      if (Math.abs(this.changeX) > 10 || Math.abs(this.changeY) > 10) {\r\n        this.IL += this.changeX;\r\n        this.IT += this.changeY;\r\n        this.drawImage();\r\n        this.startX = point.clientX;\r\n        this.startY = point.clientY;\r\n      }\r\n    },\r\n    saveFunc() {\r\n      if (!this.IMAGE) return;\r\n      // 获取指定区域的像素信息 即遮罩层的覆盖的区域\r\n      let imageData = this.CTX.getImageData(this.ML, this.MT, this.MW, this.MH);\r\n      // 创建新的画布 不需要往页面中放 只是用于生成图片 \r\n      let canvas2 = document.createElement(\"canvas\"),\r\n        canvas2CTX = canvas2.getContext(\"2d\");\r\n      canvas2.width = this.MW;\r\n      canvas2.height = this.MH;\r\n      // 把像素信息放置到画布中\r\n      canvas2CTX.putImageData(imageData, 0, 0, 0, 0, this.MW, this.MH);\r\n      // 把画布中的内容生成图片的BASE64\r\n      this.$emit(\"saveImage\", canvas2.toDataURL(\"image/png\"));\r\n    },\r\n  },\r\n};\r\n\r\n/*\r\n *  1. 我们需要准备一些数据：画布的大小、MARK遮罩层的大小和位置、上传图片的大小和位置、是否显示MARK...\r\n *  2. 上传图片：选中图片，把其绘制到画布中\r\n *  3. 实现图片的拖拽Touch：重新绘制图片所在的位置\r\n *  4. 实现如图的方法和缩小：重新绘制图片的大小\r\n *  5. 保存图片的时候：把遮罩层选中的部分（像素）最后生成一张新的图片\r\n */\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.clipImageBox {\r\n  padding: 0.2rem;\r\n}\r\n\r\n.clipImageBox .canvasBox {\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.clipImageBox .canvasBox canvas {\r\n  display: block;\r\n  box-sizing: border-box;\r\n  margin: 0 auto;\r\n  width: 7.1rem;\r\n  height: 7.1rem;\r\n  border: 0.02rem solid #ddd;\r\n}\r\n\r\n.clipImageBox .canvasBox .mark {\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n  z-index: 20;\r\n  width: 70%;\r\n  height: 70%;\r\n  border: 0.02rem dashed lightcoral;\r\n  background: rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.clipImageBox .buttonBox .file {\r\n  display: none;\r\n}\r\n\r\n.clipImageBox .buttonBox {\r\n  margin-top: 0.3rem;\r\n}\r\n\r\n.clipImageBox .buttonBox button {\r\n  margin-right: 0.2rem;\r\n  padding: 0.2rem;\r\n  border: none;\r\n  font-size: 0.28rem;\r\n  background: lightblue;\r\n  cursor: pointer;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}